/**
 * Category model for ORM client
 * @generated by @constructive-io/graphql-codegen
 * DO NOT EDIT - changes will be overwritten
 */
import { OrmClient } from '../client';
import {
  QueryBuilder,
  buildFindManyDocument,
  buildFindFirstDocument,
  buildFindOneDocument,
  buildCreateDocument,
  buildUpdateByPkDocument,
  buildDeleteByPkDocument,
} from '../query-builder';
import type {
  ConnectionResult,
  FindManyArgs,
  FindFirstArgs,
  CreateArgs,
  UpdateArgs,
  DeleteArgs,
  InferSelectResult,
  StrictSelect,
} from '../select-types';
import type {
  Category,
  CategoryWithRelations,
  CategorySelect,
  CategoryFilter,
  CategoriesOrderBy,
  CreateCategoryInput,
  UpdateCategoryInput,
  CategoryPatch,
} from '../input-types';
import { connectionFieldsMap } from '../input-types';
export class CategoryModel {
  constructor(private client: OrmClient) {}
  findMany<S extends CategorySelect>(
    args: FindManyArgs<S, CategoryFilter, CategoriesOrderBy> & {
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    categories: ConnectionResult<InferSelectResult<CategoryWithRelations, S>>;
  }> {
    const { document, variables } = buildFindManyDocument(
      'Category',
      'categories',
      args.select,
      {
        where: args?.where,
        orderBy: args?.orderBy as string[] | undefined,
        first: args?.first,
        last: args?.last,
        after: args?.after,
        before: args?.before,
        offset: args?.offset,
      },
      'CategoryFilter',
      'CategoriesOrderBy',
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'query',
      operationName: 'Category',
      fieldName: 'categories',
      document,
      variables,
    });
  }
  findFirst<S extends CategorySelect>(
    args: FindFirstArgs<S, CategoryFilter> & {
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    categories: {
      nodes: InferSelectResult<CategoryWithRelations, S>[];
    };
  }> {
    const { document, variables } = buildFindFirstDocument(
      'Category',
      'categories',
      args.select,
      {
        where: args?.where,
      },
      'CategoryFilter',
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'query',
      operationName: 'Category',
      fieldName: 'categories',
      document,
      variables,
    });
  }
  findOne<S extends CategorySelect>(
    args: {
      id: string;
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    category: InferSelectResult<CategoryWithRelations, S> | null;
  }> {
    const { document, variables } = buildFindManyDocument(
      'Category',
      'categories',
      args.select,
      {
        where: {
          id: {
            equalTo: args.id,
          },
        },
        first: 1,
      },
      'CategoryFilter',
      'CategoriesOrderBy',
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'query',
      operationName: 'Category',
      fieldName: 'category',
      document,
      variables,
      transform: (data: {
        categories?: {
          nodes?: InferSelectResult<CategoryWithRelations, S>[];
        };
      }) => ({
        category: data.categories?.nodes?.[0] ?? null,
      }),
    });
  }
  create<S extends CategorySelect>(
    args: CreateArgs<S, CreateCategoryInput['category']> & {
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    createCategory: {
      category: InferSelectResult<CategoryWithRelations, S>;
    };
  }> {
    const { document, variables } = buildCreateDocument(
      'Category',
      'createCategory',
      'category',
      args.select,
      args.data,
      'CreateCategoryInput',
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'mutation',
      operationName: 'Category',
      fieldName: 'createCategory',
      document,
      variables,
    });
  }
  update<S extends CategorySelect>(
    args: UpdateArgs<
      S,
      {
        id: string;
      },
      CategoryPatch
    > & {
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    updateCategory: {
      category: InferSelectResult<CategoryWithRelations, S>;
    };
  }> {
    const { document, variables } = buildUpdateByPkDocument(
      'Category',
      'updateCategory',
      'category',
      args.select,
      args.where.id,
      args.data,
      'UpdateCategoryInput',
      'id',
      'patch',
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'mutation',
      operationName: 'Category',
      fieldName: 'updateCategory',
      document,
      variables,
    });
  }
  delete<S extends CategorySelect>(
    args: DeleteArgs<
      {
        id: string;
      },
      S
    > & {
      select: S;
    } & StrictSelect<S, CategorySelect>
  ): QueryBuilder<{
    deleteCategory: {
      category: InferSelectResult<CategoryWithRelations, S>;
    };
  }> {
    const { document, variables } = buildDeleteByPkDocument(
      'Category',
      'deleteCategory',
      'category',
      args.where.id,
      'DeleteCategoryInput',
      'id',
      args.select,
      connectionFieldsMap
    );
    return new QueryBuilder({
      client: this.client,
      operation: 'mutation',
      operationName: 'Category',
      fieldName: 'deleteCategory',
      document,
      variables,
    });
  }
}
